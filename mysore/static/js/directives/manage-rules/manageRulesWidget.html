<span class="drag-and-drop"></span>
<div class="side-dock-rule">
    <div class="editname" title="{[{ rule.name }]}">{[{ rule.name }]}</div>
    <div class="side-panel-rules-body" ng-show="rulesExpand.status">
        <small class="rule-validity">
          <span ng-if="rule.type === 'occupancy' || rule.type === 'competition'">{[{ rule.date_range.start.$date | date : 'mediumDate' }]} - </span>
          <span ng-if="rule.type === 'promo' && rule.rule_type === 'multiple'">{[{ rule.date_range.start.$date | date : 'mediumDate' }]} - </span>
          {[{ rule.date_range.end.$date | date : 'mediumDate' }]}</small>
        <small class="rule-dow" ng-if="rule.type == 'occupancy' || rule.type == 'competition'">
          <br/>
          <span class="lr-days-of-week">
              <span ng-show="{[{rule.days[0]}]}" class="dow">Mo</span>
              <span ng-show="{[{rule.days[1]}]}" class="dow">Tu</span>
              <span ng-show="{[{rule.days[2]}]}" class="dow">We</span>
              <span ng-show="{[{rule.days[3]}]}" class="dow">Th</span>
              <span ng-show="{[{rule.days[4]}]}" class="dow">Fr</span>
              <span ng-show="{[{rule.days[5]}]}" class="dow">Sa</span>
              <span ng-show="{[{rule.days[6]}]}" class="dow">Su</span>
          </span>
        </small>
    </div>
    <div class="side-dock-rule-ctrl">
        <span class="view-btn" type="button" title="View rule details" ng-click="openRulePopup(rule)"><i class="view-icon fa fa-eye"></i></span>
        <span class="status-btn status_{[{rule.status}]}" type="button" ng-attr-title="{[{rule.status == '1' ? 'Deactivate Rule' : 'Activate Rule'}]}"
              ng-click="updateStatus(rule, rule.status)"><i class="fa fa-circle"></i></span>
        <span class="delete-btn" type="button" title="Delete rule" ng-click="deleteRule(rule)"><i class="fa fa-times"></i></span>
    </div>
</div>
<script type="text/ng-template" id="deleteRuleTemplate">
    <div class="kt-pop-modal">
        <div class="kt-pop-header">
            <h3 class="kt-pop-heading tac">Confirmation</h3>
        </div>
        <div class="kt-pop-body">
            Are you sure you want to delete this rule?
            <br>
        </div>
        <div class="ngdialog-buttons">
            <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(rule)">Confirm
            </button>
            <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog('button')">Cancel
            </button>
        </div>
    </div>
</script>
